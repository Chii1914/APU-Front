"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[843,100],{3100:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var r=t(9439),a=t(1413),i=t(4942),s=t(2791),o=t(6934),c=t(3967),d=t(8870),l=t(9953),u=t(493),h=t(4708),p=t(4721),f=t(3400),x=t(1009),m=t(8996),Z=t(5021),j=t(6278),g=t(7064),w=t(9900),v=t(8698),y=t(7689),C=t(184),b=function(e){return{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}},k=function(e){return(0,i.Z)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)")},e.breakpoints.up("sm"),{width:"calc(".concat(e.spacing(8)," + 1px)")})},N=(0,o.ZP)("div")((function(e){var n=e.theme;return(0,a.Z)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:n.spacing(0,1)},n.mixins.toolbar)})),S=(0,o.ZP)(l.ZP,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var n=e.theme,t=e.open;return(0,a.Z)((0,a.Z)({width:240,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},t&&(0,a.Z)((0,a.Z)({},b(n)),{},{"& .MuiDrawer-paper":b(n)})),!t&&(0,a.Z)((0,a.Z)({},k(n)),{},{"& .MuiDrawer-paper":k(n)}))}));function P(){var e=(0,c.Z)(),n=s.useState(!0),t=(0,r.Z)(n,2),a=t[0],i=t[1],o=(0,y.s0)();return(0,C.jsxs)(d.Z,{sx:{display:"flex"},children:[(0,C.jsx)(h.ZP,{}),(0,C.jsxs)(S,{variant:"permanent",open:a,children:[(0,C.jsx)(N,{children:(0,C.jsx)(f.Z,{onClick:function(){return i(!a)},children:"rtl"===e.direction?(0,C.jsx)(m.Z,{}):(0,C.jsx)(x.Z,{})})}),(0,C.jsx)(p.Z,{}),(0,C.jsxs)(u.Z,{children:[(0,C.jsx)(Z.ZP,{disablePadding:!0,sx:{display:"block"},onClick:function(){return o("/coord/practicas")},children:(0,C.jsxs)(j.Z,{sx:{minHeight:48,justifyContent:a?"initial":"center",px:2.5},children:[(0,C.jsx)(g.Z,{sx:{minWidth:0,mr:a?3:"auto",justifyContent:"center"},children:(0,C.jsx)(v.Z,{})}),(0,C.jsx)(w.Z,{primary:"Home",sx:{opacity:a?1:0}})]})},"Home"),(0,C.jsx)(Z.ZP,{disablePadding:!0,sx:{display:"block"},onClick:function(){return o("/coord/practicas/postulaciones")},children:(0,C.jsxs)(j.Z,{sx:{minHeight:48,justifyContent:a?"initial":"center",px:2.5},children:[(0,C.jsx)(g.Z,{sx:{minWidth:0,mr:a?3:"auto",justifyContent:"center"},children:(0,C.jsx)(v.Z,{})}),(0,C.jsx)(w.Z,{primary:"Postulaciones",sx:{opacity:a?1:0}})]})},"Postulaciones"),(0,C.jsx)(Z.ZP,{disablePadding:!0,sx:{display:"block"},onClick:function(){return o("/coord/practicas/cartas")},children:(0,C.jsxs)(j.Z,{sx:{minHeight:48,justifyContent:a?"initial":"center",px:2.5},children:[(0,C.jsx)(g.Z,{sx:{minWidth:0,mr:a?3:"auto",justifyContent:"center"},children:(0,C.jsx)(v.Z,{})}),(0,C.jsx)(w.Z,{primary:"Cartas",sx:{opacity:a?1:0}})]})},"Cartas"),(0,C.jsx)(Z.ZP,{disablePadding:!0,sx:{display:"block"},onClick:function(){return o("/coord/practicas/reportes")},children:(0,C.jsxs)(j.Z,{sx:{minHeight:48,justifyContent:a?"initial":"center",px:2.5},children:[(0,C.jsx)(g.Z,{sx:{minWidth:0,mr:a?3:"auto",justifyContent:"center"},children:(0,C.jsx)(v.Z,{})}),(0,C.jsx)(w.Z,{primary:"Reportes",sx:{opacity:a?1:0}})]})},"Reportes"),(0,C.jsx)(Z.ZP,{disablePadding:!0,sx:{display:"block"},onClick:function(){return o("/coord/practicas/settings")},children:(0,C.jsxs)(j.Z,{sx:{minHeight:48,justifyContent:a?"initial":"center",px:2.5},children:[(0,C.jsx)(g.Z,{sx:{minWidth:0,mr:a?3:"auto",justifyContent:"center"},children:(0,C.jsx)(v.Z,{})}),(0,C.jsx)(w.Z,{primary:"Ajustes y estad\xedsticas",sx:{opacity:a?1:0}})]})},"Ajustes y estad\xedsticas")]}),(0,C.jsx)(p.Z,{}),(0,C.jsx)(u.Z,{})]})]})}},6843:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var r,a=t(9439),i=t(2791),s=t(8870),o=t(890),c=t(7621),d=t(9504),l=t(4294),u=t(3100),h=t(4165),p=t(5861),f=t(8168),x=t(3400),m=t(7247),Z=t(8384),j=t(1963),g=t(9568),w=t(5560),v=t(1830),y=t.n(v),C=t(8086),b=t.n(C),k=function(e,n,t){return(r=r||(0,p.Z)((0,h.Z)().mark((function e(n,t,r){var a,i,s;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t?"rev":"snrev",i="http://localhost:3000/api/cartas-".concat(n,"/").concat(a,"/").concat(r),e.prev=2,e.next=5,fetch(i);case 5:if((s=e.sent).ok){e.next=8;break}throw new Error("HTTP error! status: ".concat(s.status));case 8:return e.next=10,s.json();case 10:return e.abrupt("return",e.sent);case 13:return e.prev=13,e.t0=e.catch(2),console.error("Could not fetch the data: ",e.t0),e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)},N=t(1243),S=t(184),P=(b()(y()),"http://localhost:3000/api/cartas-gen");function z(e){var n,t,r,o,c=e.region,d=(0,i.useState)([]),u=(0,a.Z)(d,2),v=u[0],C=u[1],b=(0,i.useState)(!1),z=(0,a.Z)(b,2),F=z[0],T=z[1],D=(0,i.useState)(!1),A=(0,a.Z)(D,2),E=A[0],M=A[1];(0,i.useEffect)((function(){T(!0),k("gen",E,c).then((function(e){C(e.map((function(e){return{id:e.id,run:e.estudiante.run,nombre:"".concat(e.estudiante.primerNombre," ").concat(e.estudiante.segundoNombre).trim(),apellidop:e.estudiante.apellidoPaterno,apellidom:e.estudiante.apellidoMaterno,fsolicitud:new Date(e.fechaCreado).toLocaleString(),factualizacion:new Date(e.fechaActualizacion).toLocaleString(),revisado:e.revisado}})))})).catch((function(e){console.error("Failed to fetch letters:",e)})).finally((function(){return T(!1)}))}),[E,c]);var R=function(){T(!0),k("gen",E,c).then((function(e){C(e.map((function(e){return{id:e.id,run:e.estudiante.run,nombre:"".concat(e.estudiante.primerNombre," ").concat(e.estudiante.segundoNombre).trim(),apellidop:e.estudiante.apellidoPaterno,apellidom:e.estudiante.apellidoMaterno,fsolicitud:new Date(e.fechaCreado).toLocaleString(),factualizacion:new Date(e.fechaActualizacion).toLocaleString(),revisado:e.revisado}})))})).catch((function(e){console.error("Failed to fetch letters:",e)})).finally((function(){return T(!1)}))},W=[{field:"run",headerName:"RUN",width:150},{field:"nombre",headerName:"Nombre",width:150},{field:"apellidop",headerName:"A. Paterno",width:150},{field:"apellidom",headerName:"A. Materno",width:150},{field:"fsolicitud",headerName:"Fecha Solicitud",width:180},{field:"factualizacion",headerName:"Fecha Modificaci\xf3n",width:180},{field:"revisado",headerName:"Revisado",width:120},{field:"accion",headerName:"Acci\xf3n",width:150,renderCell:function(e){return(0,S.jsx)(S.Fragment,{children:e.row.revisado?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(x.Z,{color:"primary",children:(0,S.jsx)(w.Z,{})}),(0,S.jsx)(x.Z,{onClick:function(){return function(e){return(t=t||(0,p.Z)((0,h.Z)().mark((function e(n){return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.Z.patch("".concat(P,"/").concat(n),{revisado:!1},{headers:{"Content-Type":"application/json"}});case 3:1===e.sent.data.affected?(R(),y().fire("Success!","The letter has been reverted to not reviewed.","success")):y().fire("Notice!","No changes were made.","info"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error:",e.t0.response?e.t0.response.data:e.t0.message),y().fire("Failed!","There was an issue reverting the letter.","error");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}(e.row.run)},color:"primary",children:(0,S.jsx)(j.Z,{})})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(x.Z,{onClick:function(){return function(e){return(n=n||(0,p.Z)((0,h.Z)().mark((function e(n){return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.Z.patch("".concat(P,"/").concat(n),{revisado:!0},{headers:{"Content-Type":"application/json"}});case 3:1===e.sent.data.affected?(R(),y().fire("Success!","The letter has been marked as reviewed.","success")):y().fire("Notice!","No changes were made.","info"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error:",e.t0.response?e.t0.response.data:e.t0.message),y().fire("Failed!","There was an issue updating the letter.","error");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}(e.row.run)},color:"primary",children:(0,S.jsx)(Z.Z,{})}),(0,S.jsx)(x.Z,{onClick:function(){return function(e){return(r=r||(0,p.Z)((0,h.Z)().mark((function e(n){return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y().fire({title:"Confirm Deletion",text:"Are you sure you want to delete this letter?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"});case 3:if(!e.sent.isConfirmed){e.next=9;break}return e.next=7,N.Z.delete("".concat(P,"/").concat(n));case 7:200===e.sent.status?(R(),y().fire("Success!","The letter has been deleted.","success")):y().fire("Notice!","No changes were made.","info");case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error:",e.t0.response?e.t0.response.data:e.t0.message),y().fire("Failed!","There was an issue deleting the letter.","error");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}(e.row.run)},color:"primary",children:(0,S.jsx)(m.Z,{})}),(0,S.jsx)(x.Z,{onClick:function(){return function(e){return(o=o||(0,p.Z)((0,h.Z)().mark((function e(n){return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.Z.post("".concat(P,"/").concat(n));case 3:200===e.sent.status?(R(),y().fire("Success!","The letter has been generated or updated.","success")):y().fire("Notice!","No changes were made.","info"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error:",e.t0.response?e.t0.response.data:e.t0.message),y().fire("Failed!","There was an issue generating or updating the letter.","error");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}(e.row.run)},color:"primary",children:(0,S.jsx)(g.Z,{})})]})})}}];return(0,S.jsxs)(s.Z,{sx:{height:400,width:"100%","& .MuiDataGrid-cell:focus":{outline:"none"}},children:[(0,S.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"center",gap:2,padding:2},children:[(0,S.jsx)(l.Z,{variant:"contained",color:"primary",onClick:function(){return M(!1)},children:"No Revisadas"}),(0,S.jsx)(l.Z,{variant:"contained",color:"secondary",onClick:function(){return M(!0)},children:"Revisadas"})]}),(0,S.jsx)(f._$,{rows:v.filter((function(e){return E?e.revisado:!e.revisado})),columns:W,pageSize:5,rowsPerPageOptions:[5,10,20],loading:F})]})}b()(y());var F="http://localhost:3000/api/cartas-per";function T(e){var n,t,r,o=e.region,c=(0,i.useState)([]),d=(0,a.Z)(c,2),u=d[0],v=d[1],C=(0,i.useState)(!1),b=(0,a.Z)(C,2),P=b[0],z=b[1],T=(0,i.useState)(!1),D=(0,a.Z)(T,2),A=D[0],E=D[1];(0,i.useEffect)((function(){z(!0),k("per",A,o).then((function(e){v(e.map((function(e){return{id:e.id,run:e.estudiante.run,nombre:"".concat(e.estudiante.primerNombre," ").concat(e.estudiante.segundoNombre).trim(),apellidop:e.estudiante.apellidoPaterno,apellidom:e.estudiante.apellidoMaterno,fsolicitud:new Date(e.fechaCreado).toLocaleString(),factualizacion:new Date(e.fechaActualizacion).toLocaleString(),revisado:e.revisado}})))})).catch((function(e){console.error("Failed to fetch letters:",e)})).finally((function(){return z(!1)}))}),[A,o]);var M=function(){z(!0),k("per",A,o).then((function(e){v(e.map((function(e){return{id:e.id,run:e.estudiante.run,nombre:"".concat(e.estudiante.primerNombre," ").concat(e.estudiante.segundoNombre).trim(),apellidop:e.estudiante.apellidoPaterno,apellidom:e.estudiante.apellidoMaterno,fsolicitud:new Date(e.fechaCreado).toLocaleString(),factualizacion:new Date(e.fechaActualizacion).toLocaleString(),revisado:e.revisado}})))})).catch((function(e){console.error("Failed to fetch letters:",e)})).finally((function(){return z(!1)}))},R=[{field:"run",headerName:"RUN",width:150},{field:"nombre",headerName:"Nombre",width:150},{field:"apellidop",headerName:"A. Paterno",width:150},{field:"apellidom",headerName:"A. Materno",width:150},{field:"fsolicitud",headerName:"Fecha Solicitud",width:180},{field:"factualizacion",headerName:"Fecha Modificaci\xf3n",width:180},{field:"revisado",headerName:"Revisado",width:120},{field:"accion",headerName:"Acci\xf3n",width:150,renderCell:function(e){return(0,S.jsx)(S.Fragment,{children:e.row.revisado?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(x.Z,{color:"primary",children:(0,S.jsx)(w.Z,{})}),(0,S.jsx)(x.Z,{onClick:function(){return function(e){return(t=t||(0,p.Z)((0,h.Z)().mark((function e(n){return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.Z.patch("".concat(F,"/").concat(n),{revisado:!1},{headers:{"Content-Type":"application/json"}});case 3:1===e.sent.data.affected?(M(),y().fire("Success!","The letter has been reverted to not reviewed.","success")):y().fire("Notice!","No changes were made.","info"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error:",e.t0.response?e.t0.response.data:e.t0.message),y().fire("Failed!","There was an issue reverting the letter.","error");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}(e.row.run)},color:"primary",children:(0,S.jsx)(j.Z,{})})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(x.Z,{onClick:function(){return function(e){return(n=n||(0,p.Z)((0,h.Z)().mark((function e(n){return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.Z.patch("".concat(F,"/").concat(n),{revisado:!0},{headers:{"Content-Type":"application/json"}});case 3:1===e.sent.data.affected?(M(),y().fire("Success!","The letter has been marked as reviewed.","success")):y().fire("Notice!","No changes were made.","info"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error:",e.t0.response?e.t0.response.data:e.t0.message),y().fire("Failed!","There was an issue updating the letter.","error");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}(e.row.run)},color:"primary",children:(0,S.jsx)(Z.Z,{})}),(0,S.jsx)(x.Z,{color:"primary",children:(0,S.jsx)(g.Z,{})}),(0,S.jsx)(x.Z,{onClick:function(){return function(e){return(r=r||(0,p.Z)((0,h.Z)().mark((function e(n){return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y().fire({title:"Confirm Deletion",text:"Are you sure you want to delete this letter?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"});case 3:if(!e.sent.isConfirmed){e.next=9;break}return e.next=7,N.Z.delete("".concat(F,"/").concat(n));case 7:200===e.sent.status?(M(),y().fire("Success!","The letter has been deleted.","success")):y().fire("Notice!","No changes were made.","info");case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error:",e.t0.response?e.t0.response.data:e.t0.message),y().fire("Failed!","There was an issue deleting the letter.","error");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}(e.row.run)},color:"primary",children:(0,S.jsx)(m.Z,{})})]})})}}];return(0,S.jsxs)(s.Z,{sx:{height:400,width:"100%","& .MuiDataGrid-cell:focus":{outline:"none"}},children:[(0,S.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"center",gap:2,padding:2},children:[(0,S.jsx)(l.Z,{variant:"contained",color:"primary",onClick:function(){return E(!1)},children:"No Revisadas"}),(0,S.jsx)(l.Z,{variant:"contained",color:"secondary",onClick:function(){return E(!0)},children:"Revisadas"})]}),(0,S.jsx)(f._$,{rows:u.filter((function(e){return A?e.revisado:!e.revisado})),columns:R,pageSize:5,rowsPerPageOptions:[5,10,20],loading:P})]})}var D=function(){var e=(0,i.useState)(null),n=(0,a.Z)(e,2),t=n[0],r=n[1],h=(0,i.useState)(!1),p=(0,a.Z)(h,2),f=p[0],x=p[1],m="Valpara\xedso";return(0,S.jsxs)(s.Z,{sx:{display:"flex"},children:[(0,S.jsx)(u.default,{}),(0,S.jsxs)(s.Z,{component:"main",sx:{flexGrow:1,p:3},children:[(0,S.jsxs)(s.Z,{sx:{display:"flex",gap:2},children:[(0,S.jsx)(c.Z,{sx:{minWidth:275,maxWidth:500},children:(0,S.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,S.jsxs)(d.Z,{children:[(0,S.jsx)(o.Z,{variant:"h4",sx:{padding:2},children:"Cartas Gen\xe9ricas"}),(0,S.jsx)(o.Z,{variant:"body2",sx:{padding:2},children:"En esta secci\xf3n se ver\xe1n todas las cartas de presentaci\xf3n gen\xe9ricas que se han solicitado los alumnos."}),(0,S.jsx)(l.Z,{size:"small",color:"primary",variant:"contained",onClick:function(){r("genericas"),x(!0)},children:"Visualizar Cartas Gen\xe9ricas"})]})})}),(0,S.jsx)(c.Z,{sx:{minWidth:275,maxWidth:500},children:(0,S.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,S.jsxs)(d.Z,{children:[(0,S.jsx)(o.Z,{variant:"h4",sx:{padding:2},children:"Cartas Personalizadas"}),(0,S.jsx)(o.Z,{variant:"body2",sx:{padding:2},children:"En esta secci\xf3n se ver\xe1n todas las cartas de presentaci\xf3n personalizadas que se han solicitado los alumnos."}),(0,S.jsx)(l.Z,{size:"small",color:"primary",variant:"contained",onClick:function(){r("personalizadas"),x(!0)},children:"Visualizar Cartas Personalizadas"})]})})})]}),(0,S.jsx)(s.Z,{sx:{padding:1},children:(0,S.jsxs)(s.Z,{sx:{opacity:f?1:0,transition:"opacity 0.5s ease-in-out"},children:["genericas"===t&&(0,S.jsx)(z,{region:m}),"personalizadas"===t&&(0,S.jsx)(T,{region:m})]})})]})]})}}}]);
//# sourceMappingURL=843.b40c43fc.chunk.js.map